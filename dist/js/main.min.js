var slider=function(){return{init:function(){console.log("Подключен Slider")}}}();$(document).ready(function(){$("#slider-burg").owlCarousel({loop:!0,singleItem:!0,navigation:!0,navigationText:['<img src="img/icons/arrow-scroll.svg" alt="next">','<img src="img/icons/arrow-scroll.svg" alt="next">'],pagination:!1})});var accordionVertical=function(){return{init:function(){console.log("Подключен Vertical accordion")}}}();$(document).ready(function(){$(function(){$(".menu-acco__trigger").on("click",function(t){t.preventDefault();var n=$(this),o=n.closest(".menu-acco"),e=n.closest(".menu-acco__item"),i=o.find(".menu-acco__item"),a=i.filter(".active"),r=e.find(".menu-acco__content"),c=a.find(".menu-acco__content");e.hasClass("active")?(e.removeClass("active"),r.animate({width:"0px"})):(i.removeClass("active"),e.addClass("active"),c.animate({width:"0px"}),r.animate({width:"550px"}))}),$(document).on("click",function(t){$(t.target).closest(".menu-acco").length||($(".menu-acco__content").animate({width:"0px"}),$(".menu-acco__item").removeClass("active"))})})});var accordionHorizotal=function(){return{init:function(){console.log("Подключен Horizotal accordion")}}}();$(function(){$(".team-acco__trigger").on("click",function(t){t.preventDefault();var n=$(this),o=n.closest(".team-acco__item"),e=n.closest(".team-acco"),i=e.find(".team-acco__item"),a=o.find(".team-acco__content"),r=e.find(".team-acco__content");o.hasClass("active")?(o.removeClass("active"),a.slideUp()):(i.removeClass("active"),o.addClass("active"),r.slideUp(),a.slideDown())})});var onePageScroll=function(){return{init:function(){console.log("Подключен One page scroll")}}}();!function(){var t=$(".maincontent"),n=$(".section"),o=!1,e=function(e){if(!o){o=!0;var i=-100*e+"%";n.eq(e).addClass("active").siblings().removeClass("active"),t.css({transform:"translate(0, "+i+")"}),setTimeout(function(){o=!1,$(".fixed-menu__item").eq(e).addClass("active").siblings().removeClass("active")},1300)}};$(".wrapper").on("wheel",function(t){var o=n.filter(".active"),i=o.next(),a=o.prev();t.originalEvent.deltaY>0&&i.length&&e(i.index()),t.originalEvent.deltaY<0&&a.length&&e(a.index())}),$("[data-section-target]").on("click",function(t){t.preventDefault();var n=parseInt($(this).attr("href"));e(n)})}();var valid=function(){return{init:function(){console.log("Подключен validation")}}}(),validation=function(){function t(t){$(t).on("keydown",".has-error",n),$(t).on("click",".has-error",n),$(t).on("reset",e)}function n(){$(this).removeClass("has-error")}function o(t){t.addClass("has-error"),i(t,t.data("position"))}function e(){var t=$(this);t.find(".has-error").removeClass("has-error"),t.find("input[data-content]").trigger("hideTooltip")}function i(t,n){n=n||"left",position={left:{my:"center right",at:"center left"},right:{my:"center left",at:"center right"},bottom:{my:"top center",at:"bottom center"},top:{my:"bottom right",at:"top center"}},t.qtip({content:{text:function(){return $(this).data("content")}},show:{event:"show"},hide:{event:"keydown click hideTooltip"},position:position[n],style:{classes:"qtip-mystyle qtip-rounded",tip:{height:10,width:10}}}).trigger("show")}var a=[];return{validateForm:function(n){var e=n.attr("id");void 0==a[e]&&(a[e]=!0,t(n));var i=n.find("input[data-content]").not('input[type="hidden"]'),r=!0;return $.each(i,function(t,n){var e=$(n);e.val().length||(o(e),r=!1)}),r}}}(),feedbackForm=function(){return{init:function(){console.log("Подключен feedbackForm")}}}(),MyForm=function(t,n){this.form=t,this.url=n,this.init=function(){console.log(this),this.addListener(this.form)}};if(MyForm.prototype.addListener=function(t){$(t).on("submit",$.proxy(this.submitForm,this))},MyForm.prototype.submitForm=function(t){t.preventDefault();var n=$(this.form),o=this.ajaxForm(n,this.url);o&&o.done(function(t){var o=t.mes;"OK"===t.status?(n.trigger("reset"),n.find(".success-mes").text(o).show()):n.find(".error-mes").text(o).show()})},MyForm.prototype.ajaxForm=function(t,n){if(!validation.validateForm(t))return!1;var o=t.serialize();return $.ajax({type:"POST",url:this.url,dataType:"JSON",data:o}).fail(function(n){console.log("Проблемы в PHP"),t.find(".error-mes").text("На сервере произошла ошибка").show()})},$("#order-form").length){var formMail=new MyForm($("#order-form"),"/form-handler.php");formMail.init()}var fancyapps=function(){return{init:function(){console.log("Подключен Fancyapps")}}}();$(document).ready(function(){$(".icon-close").on("click",function(t){t.preventDefault(),$.fancybox.close()})});var googleMap=function(){return{init:function(){console.log("Подключен Google Map")}}}(),mapGoogle=function(){return{init:function(){var t={lat:51.495663,lng:31.299996},n=new google.maps.Map(document.getElementById("map"),{zoom:15,center:t,scrollwheel:!1}),o={position:{icon:{url:"./img/icons/map-marker.svg",size:new google.maps.Size(40,50),scaledSize:new google.maps.Size(40,50)}},logo:{icon:{url:"./img/icons/map-marker.svg",size:new google.maps.Size(37,45),scaledSize:new google.maps.Size(37,45)}}},e=[{position:new google.maps.LatLng(51.495663,31.299996),type:"position",contentString:"First",content:"First market"},{position:new google.maps.LatLng(51.502889,31.311918),type:"position",contentString:"Second",content:"Second market"},{position:new google.maps.LatLng(51.498655,31.278047),type:"logo",contentString:"Third",content:"Third market"}],i=new google.maps.InfoWindow;e.forEach(function(t){var e=new google.maps.Marker({position:t.position,icon:o[t.type].icon,map:n,animation:google.maps.Animation.DROP,title:t.contentString});e.addListener("click",function(){i.setContent(t.content),i.open(n,e),e.setAnimation(google.maps.Animation.BOUNCE),setTimeout(function(){e.setAnimation(null)},1400)})})}}}();$("#map").length&&google.maps.event.addDomListener(window,"load",mapGoogle.init),slider.init(),accordionVertical.init(),accordionHorizotal.init(),onePageScroll.init(),valid.init(),feedbackForm.init(),googleMap.init(),fancyapps.init(),console.log("ВСЕ СКРИПТЫ ПОДКЛЮЧЕНЫ!");
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNsaWRlci5qcyIsImFjY29yZGlvblZlcnRpY2FsLmpzIiwiYWNjb3JkaW9uSG9yaXpvdGFsLmpzIiwib25lUGFnZVNjcm9sbC5qcyIsInZhbGlkYXRpb24uanMiLCJmZWVkYmFja0Zvcm0uanMiLCJmYW5jeWFwcHMuanMiLCJnb29nbGVNYXAuanMiLCJtYWluLmpzIl0sIm5hbWVzIjpbInNsaWRlciIsImluaXQiLCJjb25zb2xlIiwibG9nIiwiJCIsImRvY3VtZW50IiwicmVhZHkiLCJvd2xDYXJvdXNlbCIsImxvb3AiLCJzaW5nbGVJdGVtIiwibmF2aWdhdGlvbiIsIm5hdmlnYXRpb25UZXh0IiwicGFnaW5hdGlvbiIsImFjY29yZGlvblZlcnRpY2FsIiwib24iLCJlIiwicHJldmVudERlZmF1bHQiLCIkdGhpcyIsInRoaXMiLCJjb250YWluZXIiLCJjbG9zZXN0IiwiaXRlbSIsIml0ZW1zIiwiZmluZCIsImFjdGl2ZUl0ZW0iLCJmaWx0ZXIiLCJjb250ZW50IiwiYWN0aXZlQ29udGVudCIsImhhc0NsYXNzIiwicmVtb3ZlQ2xhc3MiLCJhbmltYXRlIiwid2lkdGgiLCJhZGRDbGFzcyIsInRhcmdldCIsImxlbmd0aCIsImFjY29yZGlvbkhvcml6b3RhbCIsIm90aGVyQ29udGVudCIsInNsaWRlVXAiLCJzbGlkZURvd24iLCJvbmVQYWdlU2Nyb2xsIiwiZGlzcGxheSIsInNlY3Rpb24iLCJpblNjcm9sbCIsInBlcmZvcm1UcmFuc2l0aW9uIiwic2VjdGlvbkVxIiwicG9zaXRpb24iLCJlcSIsInNpYmxpbmdzIiwiY3NzIiwidHJhbnNmb3JtIiwic2V0VGltZW91dCIsImFjdGl2ZVNlY3Rpb24iLCJuZXh0U2VjdGlvbiIsIm5leHQiLCJwcmV2U2VjdGlvbiIsInByZXYiLCJvcmlnaW5hbEV2ZW50IiwiZGVsdGFZIiwiaW5kZXgiLCJocmVmIiwicGFyc2VJbnQiLCJhdHRyIiwidmFsaWQiLCJ2YWxpZGF0aW9uIiwiX3NldFVwTGlzdGVuZXJzIiwiZm9ybSIsIl9yZW1vdmVFcnJvciIsIl9jbGVhckZvcm0iLCJfYWRkRXJyb3IiLCJlbGVtZW50IiwiX2NyZWF0ZVF0aXAiLCJkYXRhIiwiJGZvcm0iLCJ0cmlnZ2VyIiwiZGlyZWN0aW9uIiwibGVmdCIsIm15IiwiYXQiLCJyaWdodCIsImJvdHRvbSIsInRvcCIsInF0aXAiLCJ0ZXh0Iiwic2hvdyIsImV2ZW50IiwiaGlkZSIsInN0eWxlIiwiY2xhc3NlcyIsInRpcCIsImhlaWdodCIsIl9tZW1vcnkiLCJ2YWxpZGF0ZUZvcm0iLCJpZCIsImVsZW1lbnRzIiwibm90IiwiZWFjaCIsIiRlbGVtZW50IiwidmFsIiwiZmVlZGJhY2tGb3JtIiwiTXlGb3JtIiwidXJsIiwiYWRkTGlzdGVuZXIiLCJwcm90b3R5cGUiLCJwcm94eSIsInN1Ym1pdEZvcm0iLCJkZWZPYmplY3QiLCJhamF4Rm9ybSIsImRvbmUiLCJhbnMiLCJtZXMiLCJzdGF0dXMiLCJzZXJpYWxpemUiLCJhamF4IiwidHlwZSIsImRhdGFUeXBlIiwiZmFpbCIsImZvcm1NYWlsIiwiZmFuY3lhcHBzIiwiZmFuY3lib3giLCJjbG9zZSIsImdvb2dsZU1hcCIsIm1hcEdvb2dsZSIsInVsdXJ1IiwibGF0IiwibG5nIiwibWFwIiwiZ29vZ2xlIiwibWFwcyIsIk1hcCIsImdldEVsZW1lbnRCeUlkIiwiem9vbSIsImNlbnRlciIsInNjcm9sbHdoZWVsIiwiaWNvbnMiLCJpY29uIiwic2l6ZSIsIlNpemUiLCJzY2FsZWRTaXplIiwibG9nbyIsImZlYXR1cmVzIiwiTGF0TG5nIiwiY29udGVudFN0cmluZyIsImluZm93aW5kb3ciLCJJbmZvV2luZG93IiwiZm9yRWFjaCIsImZlYXR1cmUiLCJtYXJrZXIiLCJNYXJrZXIiLCJhbmltYXRpb24iLCJBbmltYXRpb24iLCJEUk9QIiwidGl0bGUiLCJzZXRDb250ZW50Iiwib3BlbiIsInNldEFuaW1hdGlvbiIsIkJPVU5DRSIsImFkZERvbUxpc3RlbmVyIiwid2luZG93Il0sIm1hcHBpbmdzIjoiQUFBQSxHQUFBQSxRQUFB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QUFBcEIsUUFBQUMsS0FBQW9CLFFBQ0F0RyxTQUFBb0csRUFBQXBHLFNBQ0F5RixLQUFBRCxFQUFBWSxFQUFBaEMsTUFBQXFCLEtBQ0FULElBQUFBLEVBQ0F1QixVQUFBdEIsT0FBQUMsS0FBQXNCLFVBQUFDLEtBQ0FDLE1BQUFOLEVBQUFKLGVBRUFLLEdBQUE3QyxZQUFBLFFBQUEsV0FDQXlDLEVBQUFVLFdBQUFQLEVBQUF2SCxTQUNBb0gsRUFBQVcsS0FBQTVCLEVBQUFxQixHQUNBQSxFQUFBUSxhQUFBNUIsT0FBQUMsS0FBQXNCLFVBQUFNLFFBQ0F6RyxXQUFBLFdBQ0FnRyxFQUFBUSxhQUFBLE9BQ0EsY0FXQXRKLEdBQUEsUUFBQThCLFFBQ0E0RixPQUFBQyxLQUFBM0MsTUFBQXdFLGVBQUFDLE9BQUEsT0FBQXBDLFVBQUF4SCxNQ3JGQUQsT0FBQUMsT0FDQVksa0JBQUFaLE9BQ0FrQyxtQkFBQWxDLE9BQ0FzQyxjQUFBdEMsT0FDQTZELE1BQUE3RCxPQUNBaUcsYUFBQWpHLE9BQ0F1SCxVQUFBdkgsT0FDQW9ILFVBQUFwSCxPQUdBQyxRQUFBQyxJQUFBIiwiZmlsZSI6Im1haW4ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHNsaWRlciA9IChmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIGluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zb2xlLmxvZygn0J/QvtC00LrQu9GO0YfQtdC9IFNsaWRlcicpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtpbml0OiBpbml0fTtcclxufSkoKTtcclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xyXG4gXHJcbiAgJChcIiNzbGlkZXItYnVyZ1wiKS5vd2xDYXJvdXNlbCh7XHJcbiAgICBsb29wOiB0cnVlLFxyXG5cdFx0c2luZ2xlSXRlbSA6IHRydWUsXHJcblx0XHRuYXZpZ2F0aW9uIDogdHJ1ZSxcclxuXHRcdG5hdmlnYXRpb25UZXh0IDogW1wiPGltZyBzcmM9XFxcImltZ1xcL2ljb25zXFwvYXJyb3ctc2Nyb2xsLnN2Z1xcXCIgYWx0PVxcXCJuZXh0XFxcIj5cIixcIjxpbWcgc3JjPVxcXCJpbWdcXC9pY29uc1xcL2Fycm93LXNjcm9sbC5zdmdcXFwiIGFsdD1cXFwibmV4dFxcXCI+XCJdLFxyXG5cdFx0cGFnaW5hdGlvbjogZmFsc2VcclxuXHR9KTtcclxuIFxyXG59KTtcclxuXHJcbiIsInZhciBhY2NvcmRpb25WZXJ0aWNhbCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIGluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zb2xlLmxvZygn0J/QvtC00LrQu9GO0YfQtdC9IFZlcnRpY2FsIGFjY29yZGlvbicpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGluaXQ6IGluaXRcclxuICB9O1xyXG59KSgpO1xyXG5cclxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xyXG5cclxuICAkKGZ1bmN0aW9uICgpIHtcclxuICAgICQoJy5tZW51LWFjY29fX3RyaWdnZXInKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksXHJcbiAgICAgICAgY29udGFpbmVyID0gJHRoaXMuY2xvc2VzdCgnLm1lbnUtYWNjbycpLCAvLyDQsdC10YDRgyDRgdC+0YHQtdC00L3QuNC5INGC0LXQsyB1bFxyXG4gICAgICAgIGl0ZW0gPSAkdGhpcy5jbG9zZXN0KCcubWVudS1hY2NvX19pdGVtJyksIC8vINCx0LXRgNGDINGB0L7RgdC10LTQvdC40Lkg0YLQtdCzIGxpXHJcbiAgICAgICAgaXRlbXMgPSBjb250YWluZXIuZmluZCgnLm1lbnUtYWNjb19faXRlbScpLCAvLyDQvdCw0LnRgtC4INCyIHVsIExpXHJcbiAgICAgICAgYWN0aXZlSXRlbSA9IGl0ZW1zLmZpbHRlcignLmFjdGl2ZScpLCAvLyDQtNC+0LHQsNCy0Ywg0LrQu9Cw0YHRgSBhY3RpdmUg0Log0L/QtdGA0LLQvtC80YMg0YDQtdCx0LXQvdC60YMgKG1lbnUtYWNjb19faXRlbSlcclxuICAgICAgICBjb250ZW50ID0gaXRlbS5maW5kKCcubWVudS1hY2NvX19jb250ZW50JyksXHJcbiAgICAgICAgYWN0aXZlQ29udGVudCA9IGFjdGl2ZUl0ZW0uZmluZCgnLm1lbnUtYWNjb19fY29udGVudCcpOyAvLyDQvdCw0LnRgtC4INGC0LXQsyDRgSDQutC70LDRgdGB0L7QvCAobWVudS1hY2NvX19pdGVtLmFjdGl2ZSlcclxuXHJcbiAgICAgIGlmICghaXRlbS5oYXNDbGFzcygnYWN0aXZlJykpIHtcclxuXHJcbiAgICAgICAgaXRlbXMucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgIGl0ZW0uYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cclxuICAgICAgICBhY3RpdmVDb250ZW50LmFuaW1hdGUoe1xyXG4gICAgICAgICAgJ3dpZHRoJzogJzBweCdcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29udGVudC5hbmltYXRlKHtcclxuICAgICAgICAgICd3aWR0aCc6ICc1NTBweCdcclxuICAgICAgICB9KTtcclxuXHJcblxyXG4gICAgICB9IGVsc2UgeyAvLyDQv9GA0Lgg0LrQu9C40LrQtSDQvdCwINGC0L7Rgi3QttC1INCw0LrQutC+0LrQtNC40L7QvSDQt9Cw0LrRgNGL0LDRgtGMINC10LPQvlxyXG4gICAgICAgIGl0ZW0ucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgIGNvbnRlbnQuYW5pbWF0ZSh7XHJcbiAgICAgICAgICAnd2lkdGgnOiAnMHB4J1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkgeyAvL9CX0LDQutGA0YvRgtGMINCw0LrQutC+0YDQtNC10L7QvSDQtdGB0LvQuCDQutC70LjQuiDQt9CwINC/0YDQtdC00LXQsNC70LzQuCDQsNC60LrQvtGA0LTQtdC+0L3QsFxyXG4gICAgICB2YXIgJHRoaXMgPSAkKGUudGFyZ2V0KTtcclxuXHJcbiAgICAgIGlmICghJHRoaXMuY2xvc2VzdCgnLm1lbnUtYWNjbycpLmxlbmd0aCkge1xyXG4gICAgICAgICQoJy5tZW51LWFjY29fX2NvbnRlbnQnKS5hbmltYXRlKHtcclxuICAgICAgICAgICd3aWR0aCc6ICcwcHgnXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoJy5tZW51LWFjY29fX2l0ZW0nKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH0pO1xyXG5cclxufSk7IiwidmFyIGFjY29yZGlvbkhvcml6b3RhbCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIGluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCfQn9C+0LTQutC70Y7Rh9C10L0gSG9yaXpvdGFsIGFjY29yZGlvbicpO1xyXG4gICAgfVxyXG4gIHJldHVybiB7aW5pdDogaW5pdH07XHJcbn0pKCk7XHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuXHJcblx0JCgnLnRlYW0tYWNjb19fdHJpZ2dlcicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcblx0XHR2YXIgJHRoaXMgPSAkKHRoaXMpLFxyXG5cdFx0XHRcdGl0ZW0gPSAkdGhpcy5jbG9zZXN0KCcudGVhbS1hY2NvX19pdGVtJyksXHJcblx0XHRcdFx0Y29udGFpbmVyID0gJHRoaXMuY2xvc2VzdCgnLnRlYW0tYWNjbycpLFxyXG5cdFx0XHRcdGl0ZW1zID0gY29udGFpbmVyLmZpbmQoJy50ZWFtLWFjY29fX2l0ZW0nKSxcclxuXHRcdFx0XHRjb250ZW50ID0gaXRlbS5maW5kKCcudGVhbS1hY2NvX19jb250ZW50JyksXHJcblx0XHRcdFx0b3RoZXJDb250ZW50ID0gY29udGFpbmVyLmZpbmQoJy50ZWFtLWFjY29fX2NvbnRlbnQnKTtcclxuXHJcblx0XHRpZiAoIWl0ZW0uaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XHJcblx0XHRcdGl0ZW1zLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuXHRcdFx0aXRlbS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdG90aGVyQ29udGVudC5zbGlkZVVwKCk7XHJcblx0XHRcdGNvbnRlbnQuc2xpZGVEb3duKCk7XHJcblxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aXRlbS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcblx0XHRcdGNvbnRlbnQuc2xpZGVVcCgpO1xyXG5cdFx0fVxyXG5cdH0pO1xyXG59KTsiLCJ2YXIgb25lUGFnZVNjcm9sbCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIGluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zb2xlLmxvZygn0J/QvtC00LrQu9GO0YfQtdC9IE9uZSBwYWdlIHNjcm9sbCcpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGluaXQ6IGluaXRcclxuICB9O1xyXG59KSgpO1xyXG5cclxuKGZ1bmN0aW9uICgpIHtcclxuXHJcbiAgdmFyIGRpc3BsYXkgPSAkKCcubWFpbmNvbnRlbnQnKTtcclxuICB2YXIgc2VjdGlvbiA9ICQoJy5zZWN0aW9uJyk7XHJcbiAgdmFyIGluU2Nyb2xsID0gZmFsc2U7XHJcblxyXG4gIHZhciBwZXJmb3JtVHJhbnNpdGlvbiA9IGZ1bmN0aW9uIChzZWN0aW9uRXEpIHsgLy/Qv9GA0LjQvdC40LzQsNC10YIg0L3QvtC80LXRgCDRgdC10LrRhtC40LhcclxuICAgIGlmIChpblNjcm9sbCkgcmV0dXJuO1xyXG5cclxuICAgIGluU2Nyb2xsID0gdHJ1ZTtcclxuXHJcbiAgICB2YXIgcG9zaXRpb24gPSAoc2VjdGlvbkVxICogLTEwMCkgKyAnJSc7XHJcblxyXG4gICAgLy9lcSAgICAgICAgLSDQktC+0LfQstGA0LDRidCw0LXRgiDRjdC70LXQvNC10L3Rgiwg0LjQtNGD0YnQuNC5INC/0L7QtCDQt9Cw0LTQsNC90L3Ri9C8INC90L7QvNC10YDQvtC8INCyINC90LDQsdC+0YDQtSDQstGL0LHRgNCw0L3QvdGL0YUg0Y3Qu9C10LzQtdC90YLQvtCyLlxyXG4gICAgLy9zaWJsaW5ncyAgLSDQntGB0YPRidC10YHRgtCy0LvRj9C10YIg0L/QvtC40YHQuiDRjdC70LXQvNC10L3RgtC+0LIsINGP0LLQu9GP0Y7RidC40YXRgdGPINGB0L7RgdC10LTQvdC40LzQuCDQtNC70Y8g0LLRi9Cx0YDQsNC90L3Ri9GFINGN0LvQtdC80LXQvdGC0L7QsiAo0L/QvtC0INGB0L7RgdC10LTQvdC40LzQuCDQv9C+0L3QuNC80LDRjtGC0YHRjyDRjdC70LXQvNC10L3RgtGLLCDQutC+0YLQvtGA0YvQtSDQuNC80LXRjtGCINC+0LHRidC10LPQviDRgNC+0LTQuNGC0LXQu9GPKS4g0J/RgNC4INGN0YLQvtC8LCDRgdCw0LzQuCDQstGL0LHRgNCw0L3QvdGL0LUg0Y3Qu9C10LzQtdC90YLRiyDQsiDRgNC10LfRg9C70YzRgtCw0YIg0L3QtSDQstC60LvRjtGH0LDRjtGC0YHRjy5cclxuICAgIHNlY3Rpb24uZXEoc2VjdGlvbkVxKS5hZGRDbGFzcygnYWN0aXZlJykuc2libGluZ3MoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcblxyXG4gICAgZGlzcGxheS5jc3Moe1xyXG4gICAgICAndHJhbnNmb3JtJzogJ3RyYW5zbGF0ZSgwLCAnICsgcG9zaXRpb24gKyAnKSdcclxuICAgIH0pO1xyXG5cclxuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xyXG4gICAgICBpblNjcm9sbCA9IGZhbHNlO1xyXG5cclxuICAgICAgJCgnLmZpeGVkLW1lbnVfX2l0ZW0nKS5lcShzZWN0aW9uRXEpLmFkZENsYXNzKCdhY3RpdmUnKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgIH0sIDEzMDApO1xyXG5cclxuICB9O1xyXG5cclxuICAkKCcud3JhcHBlcicpLm9uKCd3aGVlbCcsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICB2YXIgYWN0aXZlU2VjdGlvbiA9IHNlY3Rpb24uZmlsdGVyKCcuYWN0aXZlJyk7XHJcbiAgICB2YXIgbmV4dFNlY3Rpb24gPSBhY3RpdmVTZWN0aW9uLm5leHQoKTtcclxuICAgIHZhciBwcmV2U2VjdGlvbiA9IGFjdGl2ZVNlY3Rpb24ucHJldigpO1xyXG5cclxuICAgIGlmIChlLm9yaWdpbmFsRXZlbnQuZGVsdGFZID4gMCAmJiBuZXh0U2VjdGlvbi5sZW5ndGgpIHtcclxuICAgICAgICBwZXJmb3JtVHJhbnNpdGlvbihuZXh0U2VjdGlvbi5pbmRleCgpKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZS5vcmlnaW5hbEV2ZW50LmRlbHRhWSA8IDAgJiYgcHJldlNlY3Rpb24ubGVuZ3RoKSB7XHJcbiAgICAgIHBlcmZvcm1UcmFuc2l0aW9uKHByZXZTZWN0aW9uLmluZGV4KCkpO1xyXG4gICAgfVxyXG4gIH0pOyAgXHJcblxyXG4gICQoJ1tkYXRhLXNlY3Rpb24tdGFyZ2V0XScpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgdmFyIGhyZWYgPSBwYXJzZUludCgkKHRoaXMpLmF0dHIoJ2hyZWYnKSk7XHJcblxyXG4gICAgcGVyZm9ybVRyYW5zaXRpb24oaHJlZik7XHJcbiAgfSk7XHJcblxyXG59KCkpOyIsInZhciB2YWxpZCA9IChmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIGluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zb2xlLmxvZygn0J/QvtC00LrQu9GO0YfQtdC9IHZhbGlkYXRpb24nKTtcclxuICB9XHJcblxyXG4gIHJldHVybiB7aW5pdDogaW5pdH07XHJcbn0pKCk7XHJcblxyXG5cclxuXHJcbnZhciB2YWxpZGF0aW9uID0gKGZ1bmN0aW9uKCkge1xyXG4gIHZhciBfbWVtb3J5ID0gW107XHJcbiAgdmFyIHZhbGlkYXRlRm9ybSA9IGZ1bmN0aW9uKGZvcm0pIHtcclxuICAgIC8vINCd0LDQstC10YjQuNCy0LDQtdC8INC+0LHRgNCw0LHQvtGC0YfQuNC60Lgg0L/QtdGA0LLRi9C5INGA0LDQtyDQuCDQt9Cw0L/QvtC80LjQvdCw0LXQvCwg0YfRgtC+INC90LAg0YTQvtGA0LzRgyDRgSDRgtCw0LrQuNC8IGlkINGB0L7QsdGL0YLQuNGPINGD0LbQtSDQvdCw0LLQtdGI0LXQvdGLLlxyXG4gICAgdmFyIGlkID0gZm9ybS5hdHRyKCdpZCcpO1xyXG4gICAgaWYgKF9tZW1vcnlbaWRdID09IHZvaWQgMCkge1xyXG4gICAgICBfbWVtb3J5W2lkXSA9IHRydWU7XHJcbiAgICAgIF9zZXRVcExpc3RlbmVycyhmb3JtKTtcclxuICAgIH1cclxuICAgIC8vINCf0YDQvtCy0LXRgNGP0LXRgiwg0YfRgtC+0LHRiyDQstGB0LUg0L/QvtC70Y8g0YTQvtGA0LzRiyDQsdGL0LvQuCDQvdC1INC/0YPRgdGC0YvQvNC4LiDQldGB0LvQuCDQv9GD0YHRgtGL0LUgLSDQstGL0LfRi9Cy0LDQtdGCINGC0YPQu9GC0LjQv9GLXHJcbiAgICB2YXIgZWxlbWVudHMgPSBmb3JtLmZpbmQoJ2lucHV0W2RhdGEtY29udGVudF0nKS5ub3QoJ2lucHV0W3R5cGU9XCJoaWRkZW5cIl0nKTtcclxuICAgIHZhciB2YWxpZCA9IHRydWU7XHJcbiAgICAkLmVhY2goZWxlbWVudHMsIGZ1bmN0aW9uKGluZGV4LCBlbGVtZW50KSB7XHJcbiAgICAgIHZhciAkZWxlbWVudCA9ICQoZWxlbWVudCk7XHJcbiAgICAgIHZhciB2YWx1ZSA9ICRlbGVtZW50LnZhbCgpO1xyXG4gICAgICAvLyDQnNC+0LzQtdC90YIg0L/RgNC+0LLQtdGA0LrQuCwg0LzQvtC20L3QviDQtNC+0LHQsNCy0LvRj9GC0Ywg0YHQstC+0LhcclxuICAgICAgaWYgKCF2YWx1ZS5sZW5ndGgpIHtcclxuICAgICAgICBfYWRkRXJyb3IoJGVsZW1lbnQpO1xyXG4gICAgICAgIHZhbGlkID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiB2YWxpZDtcclxuICB9O1xyXG4gIC8vINCd0LDQstC10YHQuNGC0Ywg0L7QsdGA0LDQsdC+0YLRh9C60Lgg0L3QsCDQstCw0LvQuNC00LjRgNGD0LXQvNGD0Y4g0YTQvtGA0LzRg1xyXG4gIGZ1bmN0aW9uIF9zZXRVcExpc3RlbmVycyhmb3JtKSB7XHJcbiAgICAvLyDQn9GA0L7RgdC70YPRiNC40LLQsNC10YIg0LLRgdC1INGB0L7QsdGL0YLQuNGPXHJcbiAgICAvLyDRg9C00LDQu9GP0LXQvCDQutGA0LDRgdC90YPRjiDQvtCx0LLQvtC00LrRgyDRgyDRjdC70LXQvNC10L3RgtC+0LIg0YTQvtGA0Lwg0L/QviDQvdCw0LbQsNGC0LjRjiDQutC70LDQstC40YjQuFxyXG4gICAgJChmb3JtKS5vbigna2V5ZG93bicsICcuaGFzLWVycm9yJywgX3JlbW92ZUVycm9yKTtcclxuICAgIC8vINGD0LTQsNC70Y/QtdC8INC60YDQsNGB0L3Rg9GOINC+0LHQstC+0LTQutGDINGDINGN0LvQtdC80LXQvdGC0L7QsiDRhNC+0YDQvCDQv9C+INC60LvQuNC60YMg0LzRi9GI0LrQuFxyXG4gICAgJChmb3JtKS5vbignY2xpY2snLCAnLmhhcy1lcnJvcicsIF9yZW1vdmVFcnJvcik7XHJcbiAgICAvLyDQv9GA0Lgg0YHQsdGA0L7RgdC1INGE0L7RgNC80Ysg0YPQtNCw0LvRj9C10Lwg0YLQsNC60LbQtTog0YLRg9C70YLQuNC/0Ysg0Lgg0L7QsdCy0L7QtNC60YNcclxuICAgICQoZm9ybSkub24oJ3Jlc2V0JywgX2NsZWFyRm9ybSk7XHJcbiAgfVxyXG4gIC8vINCj0LHRgNCw0YLRjCDQutC70LDRgdGBINC+0YjQuNCx0LrQuCDRgyDRjdC70LXQvNC10L3RgtC+0LIg0YTQvtGA0LzRi1xyXG4gIGZ1bmN0aW9uIF9yZW1vdmVFcnJvcigpIHtcclxuICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2hhcy1lcnJvcicpOyAvLyDQo9Cx0LjRgNCw0LXRgiDQutGA0LDRgdC90YPRjiDQvtCx0LLQvtC00LrRgyDRgyDRjdC70LXQvNC10L3RgtC+0LIg0YTQvtGA0LxcclxuICB9XHJcbiAgZnVuY3Rpb24gX2FkZEVycm9yKGVsZW1lbnQpIHtcclxuICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2hhcy1lcnJvcicpO1xyXG4gICAgX2NyZWF0ZVF0aXAoZWxlbWVudCwgZWxlbWVudC5kYXRhKCdwb3NpdGlvbicpKTtcclxuICB9XHJcbiAgLy8g0L7QsdGA0LDQsdC+0YLRh9C40Log0YHQvtCx0YvRgtC40Y8gUmVzZXQg0YMg0YTQvtGA0LzRi1xyXG4gIGZ1bmN0aW9uIF9jbGVhckZvcm0oKSB7XHJcbiAgICAvLyDQntGH0LjRidCw0LXRgiDRhNC+0YDQvNGDXHJcbiAgICB2YXIgJGZvcm0gPSAkKHRoaXMpO1xyXG4gICAgJGZvcm0uZmluZCgnLmhhcy1lcnJvcicpLnJlbW92ZUNsYXNzKCdoYXMtZXJyb3InKTsgLy8g0YPQtNCw0LvRj9C10Lwg0LrRgNCw0YHQvdGD0Y4g0L/QvtC00YHQstC10YLQutGDXHJcbiAgICAkZm9ybS5maW5kKCdpbnB1dFtkYXRhLWNvbnRlbnRdJykudHJpZ2dlcignaGlkZVRvb2x0aXAnKTsgLy8g0YPQtNCw0LvRj9C10Lwg0YLRg9C70YLQuNC/0YtcclxuICB9XHJcbiAgLy8g0KHQvtC30LTQsNC90LjQtSDRgtGD0LvRgtC40L/QsCDRgyDQvdC1INCy0LLQtdC00LXQvdC90L7Qs9C+INC40L3Qv9GD0YLQsFxyXG4gIGZ1bmN0aW9uIF9jcmVhdGVRdGlwKGVsZW1lbnQsIGRpcmVjdGlvbikge1xyXG4gICAgZGlyZWN0aW9uID0gZGlyZWN0aW9uIHx8ICdsZWZ0JztcclxuICAgIHBvc2l0aW9uID0ge1xyXG4gICAgICBsZWZ0OiB7XHJcbiAgICAgICAgbXk6ICdjZW50ZXIgcmlnaHQnLFxyXG4gICAgICAgIGF0OiAnY2VudGVyIGxlZnQnXHJcbiAgICAgIH0sXHJcbiAgICAgIHJpZ2h0OiB7XHJcbiAgICAgICAgbXk6ICdjZW50ZXIgbGVmdCcsXHJcbiAgICAgICAgYXQ6ICdjZW50ZXIgcmlnaHQnXHJcbiAgICAgIH0sXHJcbiAgICAgIGJvdHRvbToge1xyXG4gICAgICAgIG15OiAndG9wIGNlbnRlcicsXHJcbiAgICAgICAgYXQ6ICdib3R0b20gY2VudGVyJ1xyXG4gICAgICB9LFxyXG4gICAgICB0b3A6IHtcclxuICAgICAgICBteTogJ2JvdHRvbSByaWdodCcsXHJcbiAgICAgICAgYXQ6ICd0b3AgY2VudGVyJ1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgZWxlbWVudC5xdGlwKHtcclxuICAgICAgY29udGVudDoge1xyXG4gICAgICAgIHRleHQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgcmV0dXJuICQodGhpcykuZGF0YSgnY29udGVudCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgc2hvdzoge1xyXG4gICAgICAgIGV2ZW50OiAnc2hvdydcclxuICAgICAgfSxcclxuICAgICAgaGlkZToge1xyXG4gICAgICAgIGV2ZW50OiAna2V5ZG93biBjbGljayBoaWRlVG9vbHRpcCdcclxuICAgICAgfSxcclxuICAgICAgcG9zaXRpb246IHBvc2l0aW9uW2RpcmVjdGlvbl0sXHJcbiAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgY2xhc3NlczogJ3F0aXAtbXlzdHlsZSBxdGlwLXJvdW5kZWQnLFxyXG4gICAgICAgIHRpcDoge1xyXG4gICAgICAgICAgaGVpZ2h0OiAxMCxcclxuICAgICAgICAgIHdpZHRoOiAxMFxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSkudHJpZ2dlcignc2hvdycpO1xyXG4gIH1cclxuICByZXR1cm4ge1xyXG4gICAgdmFsaWRhdGVGb3JtOiB2YWxpZGF0ZUZvcm1cclxuICB9O1xyXG59KSgpO1xyXG4iLCJ2YXIgZmVlZGJhY2tGb3JtID0gKGZ1bmN0aW9uICgpIHtcclxuICB2YXIgaW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIGNvbnNvbGUubG9nKCfQn9C+0LTQutC70Y7Rh9C10L0gZmVlZGJhY2tGb3JtJyk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge2luaXQ6IGluaXR9O1xyXG59KSgpO1xyXG5cclxuXHJcbnZhciBNeUZvcm0gPSBmdW5jdGlvbihmb3JtLCB1cmwpIHtcclxuICB0aGlzLmZvcm0gPSBmb3JtO1xyXG4gIHRoaXMudXJsID0gdXJsO1xyXG4gIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgY29uc29sZS5sb2codGhpcyk7ICBcclxuICAgIHRoaXMuYWRkTGlzdGVuZXIodGhpcy5mb3JtKTtcclxuICB9XHJcbn07XHJcblxyXG5NeUZvcm0ucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24oZm9ybSkge1xyXG4gICQoZm9ybSkub24oJ3N1Ym1pdCcsICQucHJveHkodGhpcy5zdWJtaXRGb3JtLCB0aGlzKSk7XHJcbn07XHJcblxyXG5NeUZvcm0ucHJvdG90eXBlLnN1Ym1pdEZvcm0gPSBmdW5jdGlvbihlKSB7XHJcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIHZhciAkZm9ybSA9ICQodGhpcy5mb3JtKSwgZGVmT2JqZWN0ID0gdGhpcy5hamF4Rm9ybSgkZm9ybSwgdGhpcy51cmwpO1xyXG4gIGlmIChkZWZPYmplY3QpIHtcclxuICAgIGRlZk9iamVjdC5kb25lKGZ1bmN0aW9uKGFucykge1xyXG4gICAgICB2YXIgbWVzID0gYW5zLm1lcywgc3RhdHVzID0gYW5zLnN0YXR1cztcclxuXHJcbiAgICAgIGlmIChzdGF0dXMgPT09ICdPSycpIHtcclxuICAgICAgICAkZm9ybS50cmlnZ2VyKCdyZXNldCcpO1xyXG4gICAgICAgICRmb3JtLmZpbmQoJy5zdWNjZXNzLW1lcycpLnRleHQobWVzKS5zaG93KCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJGZvcm0uZmluZCgnLmVycm9yLW1lcycpLnRleHQobWVzKS5zaG93KCk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufTtcclxuXHJcbk15Rm9ybS5wcm90b3R5cGUuYWpheEZvcm0gPSBmdW5jdGlvbihmb3JtLCB1cmwpIHtcclxuICBpZiAoIXZhbGlkYXRpb24udmFsaWRhdGVGb3JtKGZvcm0pKSB7XHJcbiAgICByZXR1cm4gZmFsc2U7IC8vINCS0L7Qt9Cy0YDQsNGJ0LDQtdGCIGZhbHNlLCDQtdGB0LvQuCDQvdC1INC/0YDQvtGF0L7QtNC40YIg0LLQsNC70LjQtNCw0YbQuNGOXHJcbiAgfVxyXG4gIC8vINC30LDQv9GA0L7RgVxyXG4gIHZhciBkYXRhID0gZm9ybS5zZXJpYWxpemUoKTsgLy8g0YHQvtCx0LjRgNCw0LXQvCDQtNCw0L3QvdGL0LUg0LjQtyDRhNC+0YDQvNGLINCyINC+0LHRitC10LrRgiBkYXRhXHJcblxyXG4gIHJldHVybiAkLmFqYXgoe1xyXG4gICAgLy8g0JLQvtC30LLRgNCw0YnQsNC10YIgRGVmZXJyZWQgT2JqZWN0XHJcbiAgICB0eXBlOiAnUE9TVCcsXHJcbiAgICB1cmw6IHRoaXMudXJsLFxyXG4gICAgZGF0YVR5cGU6ICdKU09OJyxcclxuICAgIGRhdGE6IGRhdGFcclxuICB9KS5mYWlsKGZ1bmN0aW9uKGFucykge1xyXG4gICAgY29uc29sZS5sb2coJ9Cf0YDQvtCx0LvQtdC80Ysg0LIgUEhQJyk7XHJcbiAgICBmb3JtLmZpbmQoJy5lcnJvci1tZXMnKS50ZXh0KCfQndCwINGB0LXRgNCy0LXRgNC1INC/0YDQvtC40LfQvtGI0LvQsCDQvtGI0LjQsdC60LAnKS5zaG93KCk7XHJcbiAgfSk7XHJcbn07XHJcblxyXG5cclxuXHJcbmlmICgkKCcjb3JkZXItZm9ybScpLmxlbmd0aCkge1xyXG4gIHZhciBmb3JtTWFpbCA9IG5ldyBNeUZvcm0oJCgnI29yZGVyLWZvcm0nKSwgJy9mb3JtLWhhbmRsZXIucGhwJyk7XHJcbiAgZm9ybU1haWwuaW5pdCgpO1xyXG59IiwidmFyIGZhbmN5YXBwcyA9IChmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIGluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zb2xlLmxvZygn0J/QvtC00LrQu9GO0YfQtdC9IEZhbmN5YXBwcycpO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGluaXQ6IGluaXRcclxuICB9O1xyXG59KSgpO1xyXG5cclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcclxuICAkKCcuaWNvbi1jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAkLmZhbmN5Ym94LmNsb3NlKCk7XHJcbiAgfSk7XHJcbn0pOyIsInZhciBnb29nbGVNYXAgPSAoZnVuY3Rpb24gKCkge1xyXG4gIHZhciBpbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc29sZS5sb2coJ9Cf0L7QtNC60LvRjtGH0LXQvSBHb29nbGUgTWFwJyk7XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgaW5pdDogaW5pdFxyXG4gIH07XHJcbn0pKCk7XHJcblxyXG5cclxudmFyIG1hcEdvb2dsZSA9IChmdW5jdGlvbiAoKSB7XHJcbiAgdmFyIGluaXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgdWx1cnUgPSB7XHJcbiAgICAgIGxhdDogNTEuNDk1NjYzLFxyXG4gICAgICBsbmc6IDMxLjI5OTk5NlxyXG4gICAgfTtcclxuICAgIHZhciBtYXAgPSBuZXcgZ29vZ2xlLm1hcHMuTWFwKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXAnKSwge1xyXG4gICAgICB6b29tOiAxNSxcclxuICAgICAgY2VudGVyOiB1bHVydSxcclxuICAgICAgc2Nyb2xsd2hlZWw6IGZhbHNlICAgICAgXHJcbiAgICB9KTtcclxuICAgIHZhciBpY29ucyA9IHtcclxuICAgICAgcG9zaXRpb246IHtcclxuICAgICAgICBpY29uOiB7XHJcbiAgICAgICAgICB1cmw6ICcuL2ltZy9pY29ucy9tYXAtbWFya2VyLnN2ZycsXHJcbiAgICAgICAgICBzaXplOiBuZXcgZ29vZ2xlLm1hcHMuU2l6ZSg0MCwgNTApLFxyXG4gICAgICAgICAgc2NhbGVkU2l6ZTogbmV3IGdvb2dsZS5tYXBzLlNpemUoNDAsIDUwKVxyXG4gICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgbG9nbzoge1xyXG4gICAgICAgIGljb246IHtcclxuICAgICAgICAgIHVybDogJy4vaW1nL2ljb25zL21hcC1tYXJrZXIuc3ZnJyxcclxuICAgICAgICAgIHNpemU6IG5ldyBnb29nbGUubWFwcy5TaXplKDM3LCA0NSksXHJcbiAgICAgICAgICBzY2FsZWRTaXplOiBuZXcgZ29vZ2xlLm1hcHMuU2l6ZSgzNywgNDUpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9O1xyXG4gICAgdmFyIGZlYXR1cmVzID0gW3tcclxuICAgICAgICBwb3NpdGlvbjogbmV3IGdvb2dsZS5tYXBzLkxhdExuZyg1MS40OTU2NjMsIDMxLjI5OTk5NiksXHJcbiAgICAgICAgdHlwZTogJ3Bvc2l0aW9uJyxcclxuICAgICAgICBjb250ZW50U3RyaW5nOiAnRmlyc3QnLCAvLyDQotGD0LvRgtC40L9cclxuICAgICAgICBjb250ZW50OiAnRmlyc3QgbWFya2V0JyAvLyDQsdCw0LvRg9C9XHJcbiAgICAgIH0sXHJcbiAgICAgIHtcclxuICAgICAgICBwb3NpdGlvbjogbmV3IGdvb2dsZS5tYXBzLkxhdExuZyg1MS41MDI4ODksIDMxLjMxMTkxOCksXHJcbiAgICAgICAgdHlwZTogJ3Bvc2l0aW9uJyxcclxuICAgICAgICBjb250ZW50U3RyaW5nOiAnU2Vjb25kJyxcclxuICAgICAgICBjb250ZW50OiAnU2Vjb25kIG1hcmtldCdcclxuICAgICAgfSxcclxuICAgICAge1xyXG4gICAgICAgIHBvc2l0aW9uOiBuZXcgZ29vZ2xlLm1hcHMuTGF0TG5nKDUxLjQ5ODY1NSwgMzEuMjc4MDQ3KSxcclxuICAgICAgICB0eXBlOiAnbG9nbycsXHJcbiAgICAgICAgY29udGVudFN0cmluZzogJ1RoaXJkJyxcclxuICAgICAgICBjb250ZW50OiAnVGhpcmQgbWFya2V0J1xyXG4gICAgICB9XHJcbiAgICBdO1xyXG5cclxuICAgIHZhciBpbmZvd2luZG93ID0gbmV3IGdvb2dsZS5tYXBzLkluZm9XaW5kb3coKTtcclxuXHJcbiAgICBmZWF0dXJlcy5mb3JFYWNoKGZ1bmN0aW9uIChmZWF0dXJlKSB7XHJcbiAgICAgIHZhciBtYXJrZXIgPSBuZXcgZ29vZ2xlLm1hcHMuTWFya2VyKHtcclxuICAgICAgICBwb3NpdGlvbjogZmVhdHVyZS5wb3NpdGlvbixcclxuICAgICAgICBpY29uOiBpY29uc1tmZWF0dXJlLnR5cGVdLmljb24sXHJcbiAgICAgICAgbWFwOiBtYXAsXHJcbiAgICAgICAgYW5pbWF0aW9uOiBnb29nbGUubWFwcy5BbmltYXRpb24uRFJPUCxcclxuICAgICAgICB0aXRsZTogZmVhdHVyZS5jb250ZW50U3RyaW5nXHJcbiAgICAgIH0pO1xyXG4gICAgICBtYXJrZXIuYWRkTGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGluZm93aW5kb3cuc2V0Q29udGVudChmZWF0dXJlLmNvbnRlbnQpO1xyXG4gICAgICAgIGluZm93aW5kb3cub3BlbihtYXAsIG1hcmtlcik7XHJcbiAgICAgICAgbWFya2VyLnNldEFuaW1hdGlvbihnb29nbGUubWFwcy5BbmltYXRpb24uQk9VTkNFKTtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgIG1hcmtlci5zZXRBbmltYXRpb24obnVsbCk7XHJcbiAgICAgICAgfSwgMTQwMCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGluaXQ6IGluaXRcclxuICB9O1xyXG59KSgpO1xyXG5cclxuXHJcbmlmICgkKCcjbWFwJykubGVuZ3RoKSB7XHJcbiAgZ29vZ2xlLm1hcHMuZXZlbnQuYWRkRG9tTGlzdGVuZXIod2luZG93LCAnbG9hZCcsIG1hcEdvb2dsZS5pbml0KTtcclxufSIsIlxyXG5zbGlkZXIuaW5pdCgpO1xyXG5hY2NvcmRpb25WZXJ0aWNhbC5pbml0KCk7XHJcbmFjY29yZGlvbkhvcml6b3RhbC5pbml0KCk7XHJcbm9uZVBhZ2VTY3JvbGwuaW5pdCgpO1xyXG52YWxpZC5pbml0KCk7XHJcbmZlZWRiYWNrRm9ybS5pbml0KCk7XHJcbmdvb2dsZU1hcC5pbml0KCk7XHJcbmZhbmN5YXBwcy5pbml0KCk7XHJcbi8vIGFqYXhSZXF1ZXN0LmluaXQoKTtcclxuXHJcbmNvbnNvbGUubG9nKCfQktCh0JUg0KHQmtCg0JjQn9Ci0Ksg0J/QntCU0JrQm9Cu0KfQldCd0KshJyk7Il19
